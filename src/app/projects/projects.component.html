<div class="projects-toolbar">
  <!-- reusable filter bar (left) -->
  <app-filter-bar
    [categories]="allStatuses"
    [disabledCategories]="getDisabledStatuses()"
    [selectedCategory]="activeFilter"
    (categoryChange)="onCategoryChange($event)">
  </app-filter-bar>

  <!-- view toggle buttons (right) -->
  <div class="view-toggle">
    <button
      mat-icon-button
      matTooltip="List View"
      (click)="currentView = 'list'"
      [disabled]="currentView === 'list'"
    >
      <mat-icon>view_agenda</mat-icon>
    </button>
    <button
      mat-icon-button
      matTooltip="Board View"
      (click)="currentView = 'board'"
      [disabled]="currentView === 'board'"
    >
      <mat-icon>table_chart</mat-icon>
    </button>
  </div>
</div>

<div class="content-area">
  <!-- show board view -->
  <app-projects-board
    *ngIf="currentView === 'board'"
    [projects]="projects"
    [visibleStatuses]="visibleStatuses"
    (editProject)="onEditProject($event)"
    (deleteProject)="onDeleteProject($event)">
  </app-projects-board>

  <!-- show list view -->
  <app-projects-list
    *ngIf="currentView === 'list'"
    [projects]="projects"
    [activeFilter]="activeFilter"
    [collapsedSections]="collapsedSections"
    [visibleStatuses]="visibleStatuses"
    (toggleSection)="onToggleSection($event)"
    [tasks]="tasks"
    (openProject)="openProjectModal($event)"
    (editProject)="onEditProject($event)"
    (deleteProject)="onDeleteProject($event)">
  </app-projects-list>
</div>